<div class="highlight"><pre><span class="c1">//Removing a fish</span>
	<span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#fish&quot;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="s2">&quot;.fish-remove&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
		<span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
		<span class="kd">var</span> <span class="nx">id</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;dive-id&#39;</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">fish_id</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="s1">&#39;fish-id&#39;</span><span class="p">);</span>
		<span class="kd">var</span> <span class="nx">currentX</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>


		<span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
			<span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/dives/&#39;</span><span class="o">+</span><span class="nx">id</span><span class="o">+</span><span class="s1">&#39;/fish/&#39;</span><span class="o">+</span><span class="nx">fish_id</span><span class="p">,</span>
    	<span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;POST&#39;</span><span class="p">,</span>
    	<span class="nx">data</span><span class="o">:</span> <span class="p">{</span><span class="s2">&quot;_method&quot;</span><span class="o">:</span><span class="s2">&quot;delete&quot;</span><span class="p">},</span>
    	<span class="nx">success</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">){</span>
    		<span class="nx">currentX</span><span class="p">.</span><span class="nx">closest</span><span class="p">(</span><span class="s2">&quot;.thumbnail&quot;</span><span class="p">).</span><span class="nx">remove</span><span class="p">();</span>
    	<span class="p">}</span>
    <span class="p">});</span>
	<span class="p">});</span>
<span class="c1">//end removing a fish</span>
</pre></div>